<?php
$translate = $this->plugin('translate');
$escape = $this->plugin('escapeHtml');
?>

<h1><?php echo $escape($translate('Browse Items')); ?></h1>

<?php
// ðŸ‘‡ Dual property search form for non-admin templates
echo $this->dualPropertySearchForm([
    'propertyOne' => 'rsf2:state',
    'propertyTwo' => 'rsf2:county',
    'joinType' => 'and',
]);
?>

<?php echo $this->pagination(); ?>


<?php if ($items): ?>
<div class="resources item-grid">
    <?php foreach ($items as $item): ?>
    <div class="resource item">
        <?php if ($primaryMedia = $item->primaryMedia()): ?>
        <div class="resource-thumbnail">
            <?php echo $item->linkRaw($this->thumbnail($primaryMedia, 'medium')); ?>
        </div>
        <?php endif; ?>
        
        <div class="resource-meta">
            <h4><?php echo $item->link($item->displayTitle()); ?></h4>
            
            <?php if ($description = $item->displayDescription()): ?>
            <div class="description">
                <?php echo $escape($description); ?>
            </div>
            <?php endif; ?>
            
            <?php
            $dcDate = $item->value('dcterms:date');
            if ($dcDate): ?>
            <div class="date">
                <span class="label"><?php echo $this->translate('Date:'); ?></span>
                <?php echo $escape($dcDate); ?>
            </div>
            <?php endif; ?>
            
        </div>
    </div>
    <?php endforeach; ?>
</div>

<?php else: ?>
<div class="no-resources">
    <p><?php echo $this->translate('No items found.'); ?></p>
</div>
<?php endif; ?>

<?php echo $this->pagination(); ?>
